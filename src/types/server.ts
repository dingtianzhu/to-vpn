/**
 * VPN èŠ‚ç‚¹æ•°æ®ç»“æ„
 * å¯¹åº”åç«¯ API: POST /vpn/nodes è¿”å›çš„æ•°æ®
 *
 * âš ï¸ é‡è¦å­—æ®µè¯´æ˜ï¼š
 * - domain: å¿…é¡»æ˜¯æœ‰æ•ˆçš„åŸŸåæˆ–IPåœ°å€ï¼Œä¸èƒ½ä¸º null æˆ–ç©ºå­—ç¬¦ä¸²
 * - port: å¿…é¡»æ˜¯æœ‰æ•ˆç«¯å£å· (1-65535)ï¼Œä¸èƒ½ä¸º null æˆ– 0
 * - password: ç”¨äº Hysteria2 è®¤è¯çš„å¯†ç 
 */
export interface ServerNode {
  // ==================== åŸºç¡€å­—æ®µï¼ˆå¿…å¡«ï¼‰====================

  /** èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ï¼Œæ•°æ®åº“ä¸»é”® */
  id: number;

  /** åŸå¸‚åç§°ï¼Œå¦‚ "Los Angeles", "Tokyo" */
  city: string;

  /** èŠ‚ç‚¹åç§°ï¼ˆå¯é€‰ï¼‰ï¼Œå¦‚ "ç¾å›½-æ´›æ‰çŸ¶" */
  name?: string;

  /** å›½å®¶ä»£ç ï¼Œå¦‚ "US", "JP", "HK" */
  country: string;

  /** å›½æ—— emojiï¼Œå¦‚ "ğŸ‡ºğŸ‡¸", "ğŸ‡¯ğŸ‡µ" */
  flag: string;

  /**
   * æœåŠ¡å™¨åŸŸåæˆ–IPåœ°å€
   * âš ï¸ å¿…å¡«ï¼Œä¸èƒ½ä¸º null æˆ–ç©ºå­—ç¬¦ä¸²
   * ç”¨äº Hysteria2 è¿æ¥
   */
  domain: string;

  /**
   * è¿æ¥å¯†ç 
   * ç”¨äº Hysteria2 è®¤è¯
   */
  password: string;

  /** åè®®ç±»å‹ï¼Œé»˜è®¤ "hysteria2" */
  protocol?: string;

  /**
   * æœåŠ¡å™¨ç«¯å£
   * âš ï¸ å¿…å¡«ï¼ŒèŒƒå›´ 1-65535ï¼Œä¸èƒ½ä¸º null æˆ– 0
   */
  port: number;

  /**
   * èŠ‚ç‚¹çŠ¶æ€
   * 1 = æ­£å¸¸/åœ¨çº¿
   * 2 = ç»´æŠ¤ä¸­
   * 3 = ç¦»çº¿
   */
  status: number;

  /** å»¶è¿Ÿæ¯«ç§’ï¼ˆå¯é€‰ï¼Œå‰ç«¯è®¡ç®—ï¼‰ */
  ping?: number;

  // ==================== æ‰©å±•å­—æ®µï¼ˆå®¢æˆ·ç«¯å±•ç¤ºç”¨ï¼‰====================

  /** æ ‡ç­¾æ•°ç»„ï¼Œå¦‚ ["æ¨è", "é«˜é€Ÿ", "æ¸¸æˆ"] */
  tags?: string[];

  /** åœ°åŒºåˆ†ç»„ï¼Œå¦‚ "asia", "europe", "america" */
  region?: string;

  /** èŠ‚ç‚¹ç­‰çº§ï¼š1=å…è´¹ 2=æ ‡å‡† 3=é«˜çº§ï¼Œç”¨äºæƒé™æ§åˆ¶ */
  tier?: number;

  /** æ’åºæƒé‡ï¼Œæ•°å€¼è¶Šå°è¶Šé å‰ */
  sort_order?: number;

  /** æµé‡å€ç‡ï¼Œå¦‚ 1.0=æ­£å¸¸, 0.5=åŠä»·, 2.0=åŒå€ */
  multiplier?: number;

  /** é™é€Ÿ (Mbps)ï¼Œ0 æˆ– -1 è¡¨ç¤ºä¸é™é€Ÿ */
  speed_limit?: number;

  // ==================== æ—¶é—´å­—æ®µ ====================

  /** èŠ‚ç‚¹åˆ›å»ºæ—¶é—´ ISO8601 */
  created_at?: string;

  /** èŠ‚ç‚¹æ›´æ–°æ—¶é—´ ISO8601 */
  updated_at?: string;
}

/** å‰ç«¯å†…éƒ¨ä½¿ç”¨çš„çŠ¶æ€ç±»å‹ */
export type ServerStatus = "online" | "maintenance" | "offline";

/**
 * å‰ç«¯å†…éƒ¨ä½¿ç”¨çš„æœåŠ¡å™¨ç»“æ„
 * å°†åç«¯çš„æ•°å­—çŠ¶æ€è½¬æ¢ä¸ºå­—ç¬¦ä¸²çŠ¶æ€
 */
export interface Server extends Omit<ServerNode, "status"> {
  /** å»¶è¿Ÿæ¯«ç§’ï¼Œé»˜è®¤ 999 è¡¨ç¤ºæœªæµ‹è¯•æˆ–è¶…æ—¶ */
  ping: number;

  /** èŠ‚ç‚¹çŠ¶æ€ï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰ */
  status: ServerStatus;
}
